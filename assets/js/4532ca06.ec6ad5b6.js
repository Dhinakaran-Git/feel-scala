"use strict";(self.webpackChunkfeel_scala=self.webpackChunkfeel_scala||[]).push([[7380],{4863:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7462),o=n(7294),l=n(5671),r=n(3746);const s=e=>{let{children:t,onChange:n,language:s}=e;const i=(0,o.useRef)(null),[u,c]=(0,o.useState)(t),p=(0,o.useCallback)((e=>{const t=e.slice(0,-1);c(t),n(t)}),[]);return(0,l.Y)(i,p,{indentation:2}),o.createElement(r.ZP,(0,a.Z)({},r.lG,{code:u,language:s}),(e=>{let{className:t,style:n,tokens:a,getTokenProps:l}=e;return o.createElement("pre",{className:t,style:n,ref:i},a.map(((e,t)=>o.createElement(o.Fragment,{key:t},e.filter((e=>!e.empty)).map(((e,t)=>o.createElement("span",l({token:e,key:t})))),"\n"))))}))}},4294:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7294),o=n(9669),l=n.n(o),r=n(4863),s=n(9286),i=n(2389);const u=e=>{let{defaultExpression:t,feelContext:n,metadata:o,onResultCallback:u,onErrorCallback:c}=e;const p=function(){let e={};if((0,i.Z)()){const t=window.location.search,n=new URLSearchParams(t);n.has("expression")&&(e.expression=Z(n.get("expression"))),n.has("context")&&(e.context=Z(n.get("context")))}return e}();let d=p.context??n;d&&(d=JSON.stringify(JSON.parse(d),null,2));const[m,g]=a.useState(p.expression??t),[f,y]=a.useState(d),[h,x]=a.useState("<click 'Evaluate' to see the result of the expression>"),[E,v]=a.useState(null),[k,b]=a.useState(null),C=/^.+(?<line>\d+):(?<position>\d+).+$/gm,w=/^.+at position (?<position>\d+)$/gm;function S(e,t){x(null),v(e),b(t),c&&c(e)}function N(e){return btoa(e)}function Z(e){return atob(e)}return a.createElement("div",null,a.createElement("h2",null,"Expression"),a.createElement(r.Z,{onChange:g,language:"js"},m),n&&a.createElement("div",null,a.createElement("h2",null,"Context"),a.createElement("i",null,"A JSON document that is used to resolve ",a.createElement("strong",null,"variables")," ","in the expression."),a.createElement(r.Z,{onChange:y,language:"json"},f)),a.createElement("button",{onClick:function(){try{x("<evaluating the expression...>"),b(null);!function(e){l().post("https://feel.upgradingdave.com/api/v1/feel/evaluate",{expression:m,context:e,metadata:{...o}},{headers:{accept:"*/*","content-type":"application/json"}}).then((e=>{var t;if(null!=e&&null!=(t=e.data)&&t.error){var n,a;const t=e.data.error,o=C.exec(t);S({message:t,line:null==o||null==(n=o.groups)?void 0:n.line,position:null==o||null==(a=o.groups)?void 0:a.position},e.data.warnings)}else!function(e){v(null);const t=JSON.stringify(e.result);x(t),e.warnings.length>=1&&b(e.warnings);u&&u(t)}(e.data)}))}(n&&0!==f.trim().length?JSON.parse(f):{})}catch(t){var e;const n=w.exec(t.message);S({message:`failed to parse context: ${t.message}`,position:null==n||null==(e=n.groups)?void 0:e.position})}},className:"button button--primary button--lg"},"Evaluate"),a.createElement("button",{onClick:function(){navigator.clipboard.writeText(function(){const e=window.location.href.split("?")[0],t=window.location.search,n=new URLSearchParams(t);return n.set("expression",N(m)),f&&n.set("context",N(f)),n.set("expression-type","expression"),e+"?"+n}())},className:"button button--secondary button--lg",title:"Copy an URL to the clipboard for sharing the expression",style:{"margin-left":"10px"}},"Share"),a.createElement("br",null),a.createElement("br",null),a.createElement("h2",null,"Result"),a.createElement(s.Z,{title:(()=>{const e=null!=E&&E.line?` on line ${E.line}`:"",t=null!=E&&E.position?` at position ${E.position}`:"";return E&&`Error${e}${t}`})(),language:"json"},h||(null==E?void 0:E.message)),a.createElement("br",null),a.createElement("h2",null,"Warnings"),a.createElement(s.Z,null,(null==k?void 0:k.map(((e,t)=>a.createElement("li",{key:t},"[",e.type,"] ",e.message))))||"<none>"))}},6864:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>g,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var a=n(7462),o=(n(7294),n(3905)),l=n(4294),r=n(6518),s=n.n(r);const i={id:"playground",title:"Playground for FEEL expressions"},u=void 0,c={unversionedId:"playground/playground",id:"version-1.15/playground/playground",title:"Playground for FEEL expressions",description:"The playground is created as part of our Camunda Summer Hack Days project 2022.",source:"@site/versioned_docs/version-1.15/playground/playground.mdx",sourceDirName:"playground",slug:"/playground/",permalink:"/feel-scala/docs/1.15/playground/",draft:!1,editUrl:"https://github.com/camunda/feel-scala/edit/main/docs/versioned_docs/version-1.15/playground/playground.mdx",tags:[],version:"1.15",frontMatter:{id:"playground",title:"Playground for FEEL expressions"},sidebar:"version-1.15/Playground"},p={},d=[],m={toc:d};function g(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Work in progress",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"The playground is created as part of our Camunda Summer Hack Days project 2022."),(0,o.kt)("p",{parentName:"admonition"},"It may be broken. But stay tuned for updates!")),(0,o.kt)("p",null,"Use the interactive editor below to evaluate\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.camunda.io/docs/components/modeler/feel/language-guide/feel-expressions-introduction/"},"FEEL expressions"),"."),(0,o.kt)(l.Z,{defaultExpression:s()`
      3 + x`,feelContext:'{"x": 5}',metadata:{page:"tutorial-playground"},mdxType:"LiveFeel"}))}g.isMDXComponent=!0}}]);