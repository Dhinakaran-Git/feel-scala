"use strict";(self.webpackChunkfeel_scala=self.webpackChunkfeel_scala||[]).push([[6071],{4863:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7462),l=n(7294),r=n(5671),o=n(3746);const s=e=>{let{children:t,onChange:n,language:s}=e;const i=(0,l.useRef)(null),[c,u]=(0,l.useState)(t),p=(0,l.useCallback)((e=>{const t=e.slice(0,-1);u(t),n(t)}),[]);return(0,r.Y)(i,p,{indentation:2}),l.createElement(o.ZP,(0,a.Z)({},o.lG,{code:c,language:s}),(e=>{let{className:t,style:n,tokens:a,getTokenProps:r}=e;return l.createElement("pre",{className:t,style:n,ref:i},a.map(((e,t)=>l.createElement(l.Fragment,{key:t},e.filter((e=>!e.empty)).map(((e,t)=>l.createElement("span",r({token:e,key:t})))),"\n"))))}))}},4294:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294),l=n(9669),r=n.n(l),o=n(4863),s=n(9537);const i=e=>{let{defaultExpression:t,feelContext:n,metadata:l,onResultCallback:i,onErrorCallback:c}=e;n&&(n=JSON.stringify(JSON.parse(n),null,2));const[u,p]=a.useState(t),[d,m]=a.useState(n),[h,g]=a.useState("<click 'Evaluate' to see the result of the expression>"),[f,k]=a.useState(null),v=/^.+(?<line>\d+):(?<position>\d+).+$/gm,E=/^.+at position (?<position>\d+)$/gm;function y(e){g(null),k(e),c&&c(e)}return a.createElement("div",null,a.createElement("h2",null,"Expression"),a.createElement(o.Z,{onChange:p,language:"js"},u),n&&a.createElement("div",null,a.createElement("h2",null,"Context"),a.createElement("i",null,"A JSON document that is used to resolve ",a.createElement("strong",null,"variables")," ","in the expression."),a.createElement(o.Z,{onChange:m,language:"json"},d)),a.createElement("button",{onClick:function(){try{g("<evaluating the expression...>");!function(e){r().post("https://34.160.251.253/api/v1/feel/evaluate",{expression:u,context:e,metadata:{...l}},{headers:{accept:"*/*","content-type":"application/json"}}).then((e=>{var t;if(null!=e&&null!=(t=e.data)&&t.error){var n,a;const t=e.data.error,l=v.exec(t);y({message:t,line:null==l||null==(n=l.groups)?void 0:n.line,position:null==l||null==(a=l.groups)?void 0:a.position})}else!function(e){k(null),g(e),i&&i(e)}(JSON.stringify(e.data.result))}))}(n?JSON.parse(d):{})}catch(t){var e;const n=E.exec(t.message);y({message:"failed to parse context: "+t.message,position:null==n||null==(e=n.groups)?void 0:e.position})}},className:"button button--primary button--lg"},"Evaluate"),a.createElement("br",null),a.createElement("br",null),a.createElement("h2",null,"Result"),a.createElement(s.Z,{title:(()=>{const e=null!=f&&f.line?" on line "+f.line:"",t=null!=f&&f.position?" at position "+f.position:"";return f&&"Error"+e+t})(),language:"json"},h||(null==f?void 0:f.message)))}},673:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>f,frontMatter:()=>u,metadata:()=>d,toc:()=>h});var a,l=n(7462),r=n(1880),o=(n(7294),n(3905)),s=n(4294),i=n(6518),c=n.n(i);const u={id:"chapter-6",title:"Chapter 6"},p=void 0,d={unversionedId:"learn/challenge/chapter-6",id:"learn/challenge/chapter-6",title:"Chapter 6",description:"This chapter is under construction. \ud83d\udea7 Stay tuned for updates!",source:"@site/docs/learn/challenge/chapter-6.mdx",sourceDirName:"learn/challenge",slug:"/learn/challenge/chapter-6",permalink:"/feel-scala/docs/next/learn/challenge/chapter-6",draft:!1,editUrl:"https://github.com/camunda/feel-scala/edit/main/docs/docs/learn/challenge/chapter-6.mdx",tags:[],version:"current",frontMatter:{id:"chapter-6",title:"Chapter 6"},sidebar:"Learn",previous:{title:"Chapter 5",permalink:"/feel-scala/docs/next/learn/challenge/chapter-5"}},m={},h=[],g={toc:h};function f(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,l.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Work in progress",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"This chapter is under construction. \ud83d\udea7 Stay tuned for updates!")),(0,o.kt)("p",null,"Since Zee has 11 days to reach the CamundaCon, Zee decides to stay a bit longer in Cologne. \ud83c\udde9\ud83c\uddea For\nthe last trip, Zee wants to take a train \ud83d\ude85 to Berlin."),(0,o.kt)("p",null,"Can you help him?"),(0,o.kt)(s.Z,{defaultExpression:c()(a||(a=(0,r.Z)(["\n    // use a function to get the weekday of the current date\n    date(targetDate)"]))),feelContext:'{"targetDate": "2022-10-05", "remainingTime": "P11D"}',metadata:{page:"challenge-6"},mdxType:"LiveFeel"}),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Solution"),(0,o.kt)("div",null,(0,o.kt)("div",null,"It is Saturday. Zee can stay the weekend in Cologne."),(0,o.kt)("br",null),(0,o.kt)("pre",{title:"Expression"},"day of week(date(targetDate) - duration(remainingTime))"))))}f.isMDXComponent=!0}}]);