"use strict";(self.webpackChunkfeel_scala=self.webpackChunkfeel_scala||[]).push([[8442],{4863:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(7462),a=s(7294),l=s(5671),r=s(3746);const i=e=>{let{children:t,onChange:s,language:i}=e;const o=(0,a.useRef)(null),[u,c]=(0,a.useState)(t),d=(0,a.useCallback)((e=>{const t=e.slice(0,-1);c(t),s(t)}),[]);return(0,l.Y)(o,d,{indentation:2}),a.createElement(r.ZP,(0,n.Z)({},r.lG,{code:u,language:i}),(e=>{let{className:t,style:s,tokens:n,getTokenProps:l}=e;return a.createElement("pre",{className:t,style:s,ref:o},n.map(((e,t)=>a.createElement(a.Fragment,{key:t},e.filter((e=>!e.empty)).map(((e,t)=>a.createElement("span",l({token:e,key:t})))),"\n"))))}))}},4294:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(7294),a=s(9669),l=s.n(a),r=s(4863),i=s(9537);const o=e=>{let{defaultExpression:t,feelContext:s,metadata:a}=e;s&&(s=JSON.stringify(JSON.parse(s),null,2));const[o,u]=n.useState(t),[c,d]=n.useState(s),[m,p]=n.useState("<click 'Evaluate' to see the result of the expression>"),[h,g]=n.useState(null),f=/^.+(?<line>\d+):(?<position>\d+).+$/gm,E=/^.+at position (?<position>\d+)$/gm;return n.createElement("div",null,n.createElement("h2",null,"Expression"),n.createElement(r.Z,{onChange:u,language:"js"},o),s&&n.createElement("div",null,n.createElement("h2",null,"Context"),n.createElement("i",null,"A JSON document that is used to resolve ",n.createElement("strong",null,"variables")," ","in the expression."),n.createElement(r.Z,{onChange:d,language:"json"},c)),n.createElement("button",{onClick:function(){try{!function(e){l().post("https://feel.upgradingdave.com/process/start",{expression:o,context:e,metadata:{...a}},{headers:{accept:"*/*","content-type":"application/json"}}).then((e=>{var t,s;if(null!=e&&null!=(t=e.data)&&t.result)g(null),p(JSON.stringify(e.data.result));else if(null!=e&&null!=(s=e.data)&&s.error){var n,a;const t=e.data.error,s=f.exec(t);p(null),g({message:t,line:null==s||null==(n=s.groups)?void 0:n.line,position:null==s||null==(a=s.groups)?void 0:a.position})}}))}(s?JSON.parse(c):{})}catch(t){var e;p(null);const s=E.exec(t.message);g({message:"failed to parse context: "+t.message,position:null==s||null==(e=s.groups)?void 0:e.position})}},className:"button button--primary button--lg"},"Evaluate"),n.createElement("br",null),n.createElement("br",null),n.createElement("h2",null,"Result"),n.createElement(i.Z,{title:(()=>{const e=null!=h&&h.line?" on line "+h.line:"",t=null!=h&&h.position?" at position "+h.position:"";return h&&"Error"+e+t})(),language:"json"},m||(null==h?void 0:h.message)))}},3163:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>Z,contentTitle:()=>S,default:()=>w,frontMatter:()=>y,metadata:()=>C,toc:()=>O});var n=s(7462),a=s(1880),l=s(7294),r=s(3905),i=s(4294),o=s(6518),u=s.n(o),c=s(9669),d=s.n(c),m=s(4863);const p=s.p+"assets/images/envelope-f87a5f40af8a589b3ce20a1d6d1461e7.png",h={position:"relative",textAlign:"left",color:"black"},g={position:"absolute",top:"10px",left:"16px"},f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};class E extends l.Component{constructor(e){super(e)}render(){return l.createElement("div",{style:h},l.createElement("img",{src:p}),l.createElement("div",{style:g},"Zee",l.createElement("br",null),"Camunda Services GmbH",l.createElement("br",null),"Zossener Str. 55",l.createElement("br",null),"10961 Berlin",l.createElement("br",null),"Germany"),l.createElement("div",{style:f},this.props.addressName,l.createElement("br",null),"Camunda Inc.",l.createElement("br",null),"INDUSTRY Denver",l.createElement("br",null),"3001 Brighton Blvd, Suite 450",l.createElement("br",null),"Denver, CO 80216",l.createElement("br",null),"USA"))}}const v=E,x={firstName:"?",middleName:"?",lastName:"?",address:{company:"Camunda Inc.",country:"USA",building:"INDUSTRY Denver",street:"3001 Brighton Blvd, Suite 450",cityStateZip:"Denver, CO 80216"}};class b extends l.Component{constructor(e){super(e),this.state={expression:'firstName + " " + lastName',context:JSON.stringify(x,null,2),result:{addressName:""}},this.debounce=this.debounce.bind(this),this.evaluate=this.evaluate.bind(this),this.setContext=this.setContext.bind(this),this.setExpression=this.setExpression.bind(this),this.setResult=this.setResult.bind(this)}debounce(e,t){var s=this;let n;return void 0===t&&(t=700),function(){for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];clearTimeout(n),n=setTimeout((()=>{e.apply(s,l)}),t)}}evaluate(e,t,s){d().post("https://feel.upgradingdave.com/process/start",{expression:e,context:JSON.parse(t),metadata:{user:"foo"}},{headers:{accept:"*/*","content-type":"application/json"}}).then((e=>{let t=this.state.result;e.data&&(e.data.result?(t[s]=JSON.stringify(e.data.result),this.setResult(t)):e.data.error&&(t[s]=JSON.stringify(e.data.error),this.setResult(t)))}))}setContext(){return this.debounce((e=>{this.setState({context:e}),this.evaluate(this.state.expression,e,"addressName")}))}setExpression(){return this.debounce((e=>{this.setState({expression:e}),this.evaluate(e,this.state.context,"addressName")}))}setResult(e){this.setState({result:e})}componentDidMount(){this.evaluate(this.state.expression,this.state.context,"addressName")}render(){return l.createElement("div",{className:"container"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col col--6"},l.createElement("h5",{style:{textAlign:"left"}},"Help Zee to send a letter by entering the first and last name of someone you know:"),l.createElement(m.Z,{onChange:this.setContext(),language:"json"},this.state.context)),l.createElement("div",{className:"col col--6"},l.createElement("h5",null,"In FEEL, you can concatenate strings easily. Feel free to experiment:"),l.createElement(m.Z,{onChange:this.setExpression(),language:"js"},this.state.expression))),l.createElement("div",{className:"row"},l.createElement(v,{addressName:this.state.result.addressName.replaceAll('"',"")})))}}const N=b;var k;const y={id:"tutorial-2-1",title:"2.1 String expressions"},S=void 0,C={unversionedId:"tutorial/tutorial-2-1",id:"tutorial/tutorial-2-1",title:"2.1 String expressions",description:"Before he continues on his quest, Zee promised to keep in touch with friends back home and send them",source:"@site/docs/tutorial/tutorial-2-1.mdx",sourceDirName:"tutorial",slug:"/tutorial/tutorial-2-1",permalink:"/feel-scala/docs/tutorial/tutorial-2-1",draft:!1,editUrl:"https://github.com/camunda/feel-scala/edit/master/docs/docs/tutorial/tutorial-2-1.mdx",tags:[],version:"current",frontMatter:{id:"tutorial-2-1",title:"2.1 String expressions"},sidebar:"Tutorial",previous:{title:"1.3 Numeric functions",permalink:"/feel-scala/docs/tutorial/tutorial-1-3"},next:{title:"3.1 Temporal expressions",permalink:"/feel-scala/docs/tutorial/tutorial-3-1"}},Z={},O=[],T={toc:O};function w(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},T,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Before he continues on his quest, Zee promised to keep in touch with friends back home and send them\neach a letter. \ud83d\udce8"),(0,r.kt)("p",null,"Luckily, FEEL ",(0,r.kt)("a",{parentName:"p",href:"/feel-scala/docs/reference/language-guide/feel-string-expressions"},"string expressions")," are here to Help and save time."),(0,r.kt)(i.Z,{defaultExpression:u()(k||(k=(0,a.Z)(["\n      // concatenate the first and the last name\n      firstName"]))),feelContext:'{"firstName":"?", "lastName":"?"}',metadata:{page:"tutorial-2-1"},mdxType:"LiveFeel"}),(0,r.kt)(N,{mdxType:"EnvelopeAddress"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Solution"),(0,r.kt)("div",null,(0,r.kt)("div",null,"It would take Zee 24 hours to complete the trip."),(0,r.kt)("br",null),(0,r.kt)("pre",{title:"Expression"},'firstName + " " + lastName'))))}w.isMDXComponent=!0}}]);