"use strict";(self.webpackChunkfeel_scala=self.webpackChunkfeel_scala||[]).push([[1373],{4863:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7462),o=n(7294),l=n(5671),r=n(3746);const s=e=>{let{children:t,onChange:n,language:s}=e;const i=(0,o.useRef)(null),[u,c]=(0,o.useState)(t),p=(0,o.useCallback)((e=>{const t=e.slice(0,-1);c(t),n(t)}),[]);return(0,l.Y)(i,p,{indentation:2}),o.createElement(r.ZP,(0,a.Z)({},r.lG,{code:u,language:s}),(e=>{let{className:t,style:n,tokens:a,getTokenProps:l}=e;return o.createElement("pre",{className:t,style:n,ref:i},a.map(((e,t)=>o.createElement(o.Fragment,{key:t},e.filter((e=>!e.empty)).map(((e,t)=>o.createElement("span",l({token:e,key:t})))),"\n"))))}))}},4294:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7294),o=n(9669),l=n.n(o),r=n(4863),s=n(9286),i=n(2389);const u=e=>{let{defaultExpression:t,feelContext:n,metadata:o,onResultCallback:u,onErrorCallback:c}=e;const p=function(){let e={};if((0,i.Z)()){const t=window.location.search,n=new URLSearchParams(t);n.has("expression")&&(e.expression=T(n.get("expression"))),n.has("context")&&(e.context=T(n.get("context")))}return e}();let d=p.context??n;d&&(d=JSON.stringify(JSON.parse(d),null,2));const[m,g]=a.useState(p.expression??t),[h,f]=a.useState(d),[x,v]=a.useState("<click 'Evaluate' to see the result of the expression>"),[k,E]=a.useState(null),[b,y]=a.useState(null),w=/^.+(?<line>\d+):(?<position>\d+).+$/gm,C=/^.+at position (?<position>\d+)$/gm;function S(e,t){v(null),E(e),y(t),c&&c(e)}function Z(e){return btoa(e)}function T(e){return atob(e)}return a.createElement("div",null,a.createElement("h2",null,"Expression"),a.createElement(r.Z,{onChange:g,language:"js"},m),n&&a.createElement("div",null,a.createElement("h2",null,"Context"),a.createElement("i",null,"A JSON document that is used to resolve ",a.createElement("strong",null,"variables")," ","in the expression."),a.createElement(r.Z,{onChange:f,language:"json"},h)),a.createElement("button",{onClick:function(){try{v("<evaluating the expression...>"),y(null);!function(e){l().post("https://feel.upgradingdave.com/api/v1/feel/evaluate",{expression:m,context:e,metadata:{...o}},{headers:{accept:"*/*","content-type":"application/json"}}).then((e=>{var t;if(null!=e&&null!=(t=e.data)&&t.error){var n,a;const t=e.data.error,o=w.exec(t);S({message:t,line:null==o||null==(n=o.groups)?void 0:n.line,position:null==o||null==(a=o.groups)?void 0:a.position},e.data.warnings)}else!function(e){E(null);const t=JSON.stringify(e.result);v(t),e.warnings.length>=1&&y(e.warnings);u&&u(t)}(e.data)}))}(n&&0!==h.trim().length?JSON.parse(h):{})}catch(t){var e;const n=C.exec(t.message);S({message:`failed to parse context: ${t.message}`,position:null==n||null==(e=n.groups)?void 0:e.position})}},className:"button button--primary button--lg"},"Evaluate"),a.createElement("button",{onClick:function(){navigator.clipboard.writeText(function(){const e=window.location.href.split("?")[0],t=window.location.search,n=new URLSearchParams(t);return n.set("expression",Z(m)),h&&n.set("context",Z(h)),n.set("expression-type","expression"),e+"?"+n}())},className:"button button--secondary button--lg",title:"Copy an URL to the clipboard for sharing the expression",style:{"margin-left":"10px"}},"Share"),a.createElement("br",null),a.createElement("br",null),a.createElement("h2",null,"Result"),a.createElement(s.Z,{title:(()=>{const e=null!=k&&k.line?` on line ${k.line}`:"",t=null!=k&&k.position?` at position ${k.position}`:"";return k&&`Error${e}${t}`})(),language:"json"},x||(null==k?void 0:k.message)),a.createElement("br",null),a.createElement("h2",null,"Warnings"),a.createElement(s.Z,null,(null==b?void 0:b.map(((e,t)=>a.createElement("li",{key:t},"[",e.type,"] ",e.message))))||"<none>"))}},3751:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>g,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var a=n(7462),o=(n(7294),n(3905)),l=n(4294),r=n(6518),s=n.n(r);const i={id:"tutorial-3-1",title:"3.1 Temporal expressions"},u=void 0,c={unversionedId:"tutorial/tutorial-3-1",id:"version-1.15/tutorial/tutorial-3-1",title:"3.1 Temporal expressions",description:"The next stop would put Zee in Cologne, as the journey continued there was an important",source:"@site/versioned_docs/version-1.15/tutorial/tutorial-3-1.mdx",sourceDirName:"tutorial",slug:"/tutorial/tutorial-3-1",permalink:"/feel-scala/docs/1.15/tutorial/tutorial-3-1",draft:!1,editUrl:"https://github.com/camunda/feel-scala/edit/main/docs/versioned_docs/version-1.15/tutorial/tutorial-3-1.mdx",tags:[],version:"1.15",frontMatter:{id:"tutorial-3-1",title:"3.1 Temporal expressions"},sidebar:"version-1.15/Tutorial",previous:{title:"2.1 String expressions",permalink:"/feel-scala/docs/1.15/tutorial/tutorial-2-1"},next:{title:"3.2 Temporal functions",permalink:"/feel-scala/docs/1.15/tutorial/tutorial-3-2"}},p={},d=[],m={toc:d};function g(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The next stop would put Zee in Cologne \ud83c\udde9\ud83c\uddea, as the journey continued there was an important\nquestion to answer: would Zee get in time for the conference? \u231a"),(0,o.kt)("p",null,"The trip started on September 15th, 2022, and since the journey began, around 200 hours had passed.\nCamundaCon will start on October 5th, 2022."),(0,o.kt)("p",null,"Let's use ",(0,o.kt)("a",{parentName:"p",href:"https://docs.camunda.io/docs/components/modeler/feel/language-guide/feel-temporal-expressions/"},"temporal operators")," to check\nhow many days Zee has left:"),(0,o.kt)(l.Z,{defaultExpression:s()`
    // use temporal math to calculate the remaining days
    date(startingDate) + duration("PT200H")`,feelContext:'{"startingDate": "2022-09-15", "targetDate": "2022-10-05"}',metadata:{page:"tutorial-3-1"},mdxType:"LiveFeel"}),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Solution"),(0,o.kt)("div",null,(0,o.kt)("div",null,"Zee has 11 days to arrive in Berlin."),(0,o.kt)("br",null),(0,o.kt)("pre",{title:"Expression"},'(date(targetDate) - date(startingDate) - duration("PT200H")) / duration("P1D")'))))}g.isMDXComponent=!0}}]);